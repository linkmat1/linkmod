<?php

namespace App\Core\Data;

use App\Entity\Forums\Tag;
use App\Entity\User;
use Doctrine\ORM\EntityManagerInterface;
use Symfony\Component\Validator\Constraints as Assert;

/**
 * @property Tag $entity
 */
final class GroupeCrudData extends AutomaticCrudData
{
    /**
     * @Assert\NotBlank()
     */
    public ?string $name = null;
    /**
     * @Assert\NotBlank()
     */
    public ?string $slug = null;

    public ?\DateTimeInterface $createdAt;

    public ?\DateTimeInterface $updatedAt = null;

    public ?User $author;

    public ?string $color = null;

    public ?string $description = null;

    public ?int $priority = null;

    public function hydrate(): void
    {
        parent::hydrate();
        $this->entity
            ->setUpdatedAt(new \DateTime());
    }

    public function setEntityManager(EntityManagerInterface $em): self
    {
        $this->em = $em;

        return $this;
    }
}
